<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>$TREATZ ‚Äî Halloween Meme Coin on Solana</title>
  <meta name="description" content="$TREATZ ‚Äî Trick-or-Treat coin toss & Jackpot Raffle. Spooky season on Solana." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css?v=13" />
</head>
<body>
  <!-- Sticky Countdown Banner -->
  <div class="countdown" id="countdown">
    <div class="countdown__inner">
      <span class="countdown__label">‚è≥ Countdown to Halloween:</span>
      <span class="countdown__timer" id="countdown-timer">--d --h --m --s</span>
      <span class="countdown__omen" id="countdown-omen" aria-live="polite"></span>
    </div>
  </div>

  <!-- Top Navigation -->
  <header class="nav">
    <div class="nav__wrap">
      <a href="#" class="nav__brand">
        <!-- Dynamic logo; app.js sets src from window.TREATZ_CONFIG.assets.logo -->
        <img id="site-logo" alt="$TREATZ" style="height:48px;">
      </a>
      <nav class="nav__links">
        <a href="#" id="link-discord" target="_blank" rel="noopener">Discord</a>
        <a href="#" id="link-telegram" target="_blank" rel="noopener">Telegram</a>
        <a href="#" id="link-twitter" target="_blank" rel="noopener">Twitter</a>
        <a href="#" id="link-whitepaper" target="_blank" rel="noopener">Whitepaper</a>
      </nav>
    </div>
    <div class="tokenbar" role="group" aria-label="Token & Buy">
      <div class="tokenbar__address">
        <span class="tokenbar__label">Token:</span>
        <code id="token-address">So11111111111111111111111111111111111111112</code>
        <button class="btn btn--ghost" id="btn-copy">Copy</button>
      </div>
      <div class="tokenbar__actions">
        <a class="btn btn--buy" id="btn-buy" href="#" target="_blank" rel="noopener">Buy on Pump.fun</a>
        <button class="btn btn--outline" id="btn-connect">Connect Wallet</button>
        <button class="btn btn--ghost" id="btn-openwallet">Open Wallet</button>
      </div>
    </div>
  </header>

  <!-- Full page background -->
  <div class="bg" role="img" aria-label="Spooky cosmic candy background"></div>

  <main class="main">
    <!-- Trick or Treat Coin Toss -->
    <section class="section" id="coin-flip">
      <h2 class="section__title">üéÉ Trick or Treat ‚Äî Coin Toss</h2>
      <div class="card grid-2">
        <div class="card__col">
          <div class="form">
            <label class="label">Wager Amount (SOL)</label>
            <input id="cf-amount" type="number" min="0" step="0.0001" placeholder="0.10" inputmode="decimal" />
            <label class="label">Pick a side</label>
            <div class="choices" role="radiogroup" aria-label="Coin side">
              <label class="choice"><input type="radio" name="cf-side" value="TRICK" checked /> TRICK üëª</label>
              <label class="choice"><input type="radio" name="cf-side" value="TREAT" /> TREAT üç¨</label>
            </div>
            <button class="btn btn--primary" id="cf-play">Flip that Coin</button>
            <p class="help">House edge & on-chain fairness info will appear here.</p>
          </div>
        </div>
        <div class="card__col">
          <div class="cf-display" id="cf-display" aria-live="polite">
            <div class="coin" id="coin">
              <div class="coin__face coin__face--front">TRICK</div>
              <div class="coin__face coin__face--back">TREAT</div>
            </div>
            <div class="cf-status" id="cf-status">Ready to flip.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Jackpot Raffle -->
    <section class="section" id="jackpot">
      <h2 class="section__title">üïØÔ∏è Jackpot Raffle</h2>
      <div class="card grid-3">
        <div class="card__col">
          <div class="stats">
            <div><span class="stat__label">Current Pot</span><span class="stat__value"><strong id="round-pot">‚Äî</strong> SOL</span></div>
            <div><span class="stat__label">Round</span><span class="stat__value" id="round-id">‚Äî</span></div>
            <div><span class="stat__label">Closes In</span><span class="stat__value" id="round-countdown">‚Äî</span></div>
          </div>
          <div class="progress" aria-label="Time remaining">
            <div class="progress__bar" id="jp-progress" style="width:0%"></div>
          </div>
        </div>
        <div class="card__col">
          <div class="form">
            <label class="label">Buy Tickets</label>
            <input id="jp-amount" type="number" min="1" step="1" placeholder="1" />
            <button class="btn btn--primary" id="jp-buy">Enter Raffle</button>
            <p class="help">Tickets recorded on-chain. Auto-payout to winner. % burn to $TREATZ.</p>
          </div>
        </div>
        <div class="card__col">
          <div class="mini-table">
            <div class="mini-table__head">
              <span>Recent Rounds</span>
              <button class="btn btn--ghost" id="jp-view-all">View All</button>
            </div>
            <!-- app.js fills this list from /rounds/recent -->
            <ul class="mini-table__list recent-list" id="recent-rounds"></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- About -->
    <section class="section" id="about">
      <h2 class="section__title">About $TREATZ</h2>
      <div class="card">
        <p><strong>$TREATZ</strong> is the Halloween meme coin of Solana ‚Äî bold, spooky, and made for one glorious pump. Just like trick-or-treating, it‚Äôs a dash to fill your bag with candy (and profits). Born from chaos, powered by memes, and dripping with Halloween FOMO ‚Äî $TREATZ is here to haunt the charts, scare the paper hands, and reward the degens brave enough to grab a bag.</p>
        <p>Play our <em>Trick or Treat</em> coin toss and the <em>Jackpot Raffle</em>, track burns and winners in real-time, and help us light the lanterns all the way to October 31.</p>
      </div>
    </section>

    <footer class="footer">
      <p>¬© 2025 $TREATZ ‚Ä¢ Spooky season never sleeps.</p>
    </footer>
  </main>

  <!-- Config BEFORE app.js -->
  <script>
    window.TREATZ_CONFIG = {
      apiBase: "https://YOUR-SERVICE.onrender.com/api",  // <- set to your Render URL
      links: {
        discord: "https://discord.gg/yourinvite",
        telegram: "https://t.me/yourgroup",
        twitter: "https://x.com/trickortreatsol?s=21",
        whitepaper: "#"
      },
      buyUrl: "#",
      tokenAddress: "$TREATZ_TOKEN_ADDRESS",
      assets: {
        logo: "assets/logo.png",
        mascot: "assets/mascot.png"
      }
    };
  </script>

  <script src="app.js?v=16" defer></script>

  <!-- Minimal Phantom-only wallet glue (safe to keep; no bundlers needed) -->
  <script type="module">
    const hasPhantom = !!(window?.solana?.isPhantom);
    document.getElementById('btn-connect')?.addEventListener('click', async ()=>{
      if (!hasPhantom) return alert('Install Phantom to connect.');
      try { await window.solana.connect(); alert('Wallet connected'); } catch(e){}
    });
    document.getElementById('btn-openwallet')?.addEventListener('click', ()=>{
      if (!hasPhantom) return alert('Install Phantom to open wallet.');
      window.solana?.connect?.();
    });
  </script>

  <!-- Mascot floater last -->
  <img id="mascot-floater" alt="Mascot" style="position:fixed; right:24px; bottom:24px; width:96px; pointer-events:none; opacity:.9;">
</body>
</html>