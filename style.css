/* =========================================================
   $TREATZ â€” Global Theme Tokens
   ========================================================= */
:root{
  /* Brand palette */
  --orange: #FF6B00;
  --orange-hi: #FF9500;
  --pumpkin: var(--orange);
  --witch: #6A00FF;
  --slime: #39FF14; /* neon slime green */
  --jet: #0D0D0D;
  --white: #FFFFFF;
  --gray: #AAAAAA;

  /* Background gradient stops */
  --bg-a: #2C0A44;
  --bg-b: #4D0D57;

  /* Surfaces / shadows */
  --card: rgba(13,13,13,.72);
  --card-border: rgba(255,255,255,.12);
  --shadow: 0 10px 30px rgba(0,0,0,.45);

  /* Layout metrics */
  --banner-max-h: 220px;
  --max-width: 1200px;
  --radius-lg: 16px;
  --radius-md: 12px;
  --focus-green: rgba(57,255,20,.85);
  --coin-size: 250px;

  /* FX default color (used as fallback) */
  --fx-color: #FF6B00;
}

/* =========================================================
   Base, Typography & Utilities
   ========================================================= */
* { box-sizing: border-box; }
html, body { height: 100%; }

body{
  margin: 0;
  color: var(--white);
  font-family: "Rubik", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: linear-gradient(180deg, var(--bg-a), var(--bg-b));
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-tap-highlight-color: transparent;
}

img { max-width: 100%; height: auto; display:block; }

/* Decorative headline family */
.section__title, .nav__brand, h1, h2.display {
  font-family: "Creepster", cursive;
  letter-spacing: .5px;
  color: var(--pumpkin);
  text-shadow: 0 0 12px rgba(57,255,20,.25), 0 2px 0 rgba(0,0,0,.6);
}

/* link / button color defaults */
a, .btn--outline { color: var(--slime); }

/* Utility classes */
.visually-hidden{
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}

/* =========================================================
   Accessibility / Focus states
   ========================================================= */
:focus-visible {
  outline: 3px solid var(--focus-green);
  outline-offset: 2px;
  border-radius: 8px;
}
.nav__links a:focus-visible,
.btn:focus-visible { box-shadow: 0 0 0 3px rgba(57,255,20,.35); }

/* =========================================================
   Global Cards & Surfaces
   ========================================================= */
.card{
  background: var(--card);
  border: 1px solid var(--card-border);
  box-shadow: 0 12px 26px rgba(0,0,0,.35), 0 0 26px rgba(57,255,20,.08);
  border-radius: var(--radius-lg);
  padding: 18px;
  outline: 1px solid rgba(255,255,255,.06);           /* faint inner edge */
  outline-offset: -4px;
}

/* =========================================================
   Wallet UI (flyout + modal)
   ========================================================= */
.wallet{ position: relative; display:inline-block;  z-index:100100; }
.wallet__menu{
  position: absolute; top: 110%; left: 0; min-width: 180px;
  background: rgba(13,13,13,.95); border: 1px solid rgba(255,255,255,.1);
  border-radius: var(--radius-md); padding: .4rem; box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
.wallet__menu button{
  display: block; width: 100%; text-align: left; padding: .55rem .7rem;
  background: transparent; color: #fff; border: none; border-radius: 8px; font-weight: 700;
}
.wallet__menu button:hover{ background: rgba(255,255,255,.08); }

/* Wallet modal */
.wm[hidden]{ display: none!important; }
.wm{
  position: fixed; inset: 0; z-index:100200;; display: grid; place-items: center;
}
.wm__backdrop{ position: absolute; inset: 0; background: rgba(0,0,0,.6); backdrop-filter: saturate(.9) blur(2px); }
.wm__card{
  position: relative; max-width: 420px; margin: 8vh auto; background: #111; color:#fff;
  border:1px solid #2a2a2a; border-radius: var(--radius-lg); padding: 20px;
  box-shadow: 0 10px 40px rgba(0,0,0,.5);
  transform: scale(.98); opacity: 0;
  transition: transform .15s ease, opacity .15s ease;
}
.wm__close{ position: absolute; right: 10px; top: 8px; background: transparent; color: #bbb; border: 0; font-size: 22px; cursor: pointer; }
.wm__sub{ color: #aaa; margin: 2px 0 12px; }
.wm__list{ display: grid; gap: 10px; }
.wm__item{
  display: flex; align-items: center; justify-content: space-between; width: 100%;
  background: #1a1a1a; border: 1px solid #2b2b2b; border-radius: 12px; padding: 12px 14px; color: #fff; cursor: pointer;
}
.wm__item:hover{ border-color: #00ffa3; }
.wm__icon{ width: 22px; height: 22px; margin-right: 10px; border-radius: 6px; display: inline-block; background: #333; }
.wm__status{ color: #7bdc9d; margin-left: auto; }
.wm__deeplink{ display: inline-block; margin-top: 12px; border: 1px solid #666; border-radius: 10px; padding: 8px 10px; color: #fff; text-decoration: none; }
.wm__help{ margin-top: 10px; color: #aaa; font-size: 14px; }
.wm__icon.phantom{ background: #7c5cff; }
.wm__icon.solflare{ background: #ff5f15; }
.wm__icon.backpack{ background: #0ea5e9; }
.wm:not([hidden]) .wm__card { transform: scale(1); opacity: 1; }

/* Ensure wallet & modals sit above FX layer */
.tokenbar__actions, .wallet, { position: relative; z-index: 100100; }

/* =========================================================
   Top Banner & Global Countdown
   ========================================================= */
.brand-banner{
  background: #0D0D0D;
  position: relative;
  z-index: 1002;
  box-shadow: 0 2px 0 rgba(0,0,0,.35);
}
.brand-banner img{
  width: 100%; height: auto; max-height: var(--banner-max-h);
  object-fit: fill; display: block;
}

/* Countdown */
.countdown{
  position: relative;
  z-index: 1001;
  backdrop-filter: blur(10px);
  background: rgba(0,0,0,0.85);
  border-top: 1.25px solid rgba(255,255,255,.06);
  border-bottom: 1.25px solid rgba(255,255,255,.08);
  box-shadow: inset 0 -2px 0 rgba(0,255,163,.12), 0 8px 18px rgba(0,0,0,.28);
}
.countdown__inner{
  max-width: var(--max-width);
  margin: 0 auto;
  padding: .6rem 1.2rem;
  min-height: 60px;
  display:flex; gap: 1.05rem;
  align-items:center; justify-content:center;
  flex-wrap:wrap;
  color: #fff;
  text-shadow: 0 0 12px rgba(0,255,102,.40);
}
.countdown__label{
  font-weight: 800;
  letter-spacing: .40px;
  font-size: clamp(24px, 2.6vw, 32px);
  opacity: .95;
}
.countdown__timer{
  font-family: "Creepster", cursive;
  font-size: clamp(20px, 6.2vw, 54px);
  line-height: 0.92;
  padding: .12rem .6rem;
  color: #ffffff;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: 11px;
  border: 3px solid rgba(57,255,20,0.18);
  box-shadow: 0 6px 24px rgba(57,255,20,0.08), 0 12px 36px rgba(0,0,0,0.45);
  letter-spacing: -0.02em;
  font-weight: 850;
  text-shadow: 0 2px 0 rgba(0,0,0,0.7), 0 10px 34px rgba(57,255,20,0.28);
}

/* countdown parts */
.countdown__timer .cd-part { display:inline-flex; align-items:baseline; gap:6px; margin-right:8px; }
.countdown__timer .cd-num {
  color: #F8F8FA;
  font-weight: 850;
  font-size: 1.0em;
  text-shadow: 0 6px 28px rgba(0,0,0,.5), 0 0 20px rgba(57,255,20,.12);
  padding: .15rem .45rem;
  border-radius: 8px;
  background: rgba(0,0,0,.12);
}
.countdown__timer .cd-unit {
  font-weight: 850;
  font-size: .65em;
  padding: .08rem .35rem;
  border-radius: 5px;
  color: #fff;
}
.countdown__timer .cd-part:nth-child(1) .cd-unit { background: var(--orange); color: #1a0b00; }   /* D */
.countdown__timer .cd-part:nth-child(2) .cd-unit { background: var(--witch); color: #fff; }       /* H */
.countdown__timer .cd-part:nth-child(3) .cd-unit { background: var(--slime); color: #032316; }    /* M */
.countdown__timer .cd-part:nth-child(4) .cd-unit { background: rgba(255,149,0,.12); color: var(--pumpkin); border: 1px solid rgba(255,149,0,.12); } /* S */

.countdown__omen{
  font-size: clamp(14px, 2.2vw, 22px);
  opacity: .95;
  margin-left: .6rem;
  color: #e9e0ff;
  font-style: italic;
  font-weight: 750;
  text-shadow: 0 6px 18px rgba(0,0,0,.45);
}
.countdown__logo{
  height: 130px;
  width: auto;
  margin-right: .8rem;
  border-radius: 6px;
  box-shadow: 0 0 16px rgba(57,255,20,.28);
}

/* subtle glow under banner */
.brand-banner::after{
  content: "";
  position: absolute; left: 0; right: 0; bottom: -16px; height: 12px;
  background: radial-gradient(closest-side, rgba(0,255,102,.5), transparent 82%);
  filter: blur(12px); pointer-events: none;
}

/* =========================================================
   Background Art Layer
   ========================================================= */
.bg{
  position: fixed; inset: 0;
  background:
    linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.75)),
    url('/static/assets/background.png') center top / cover no-repeat fixed;
  z-index: -1;
  filter: saturate(105%);
  background-attachment: fixed;
}

/* =========================================================
   Navigation & Token Action Bar
   ========================================================= */
.site-title{
  max-width: var(--max-width);
  margin: 12px auto 2px;
  padding: 0 16px;
}
.treatz-title {
  font-family: "Creepster", "Chakra Petch", sans-serif;
  font-size: clamp(1.8rem, 2.8vw, 2.8rem);
  font-weight: 850;
  letter-spacing: 0.97px;
  margin: 0;
  text-align: left;
  line-height: 1.75;
  display: flex;
  align-items: baseline;
  gap: 8px;
}
.treatz-symbol {
  color: #5BFF64;
  text-shadow: 0 0 10px rgba(91,255,100,.6), 0 0 20px rgba(91,255,100,.4);
}
.treatz-text {
  color: #3a0c5d; 
  position: relative;
  /* slime-green outline + glow */
  -webkit-text-stroke: 2.5px var(--slime);
  text-shadow:
    0 0 12px rgba(57,255,20,.60),
    0 0 24px rgba(57,255,20,.35),
    0 6px 18px rgba(0,0,0,.6);
  font-weight: 850;
  font-size: clamp(1.5rem, 2.5vw, 2.1rem);
  display: inline-block;
}
.treatz-text::after{
  content: '';
  position: absolute;
  left: -6px; right: -6px; top: -6px; bottom: -6px;
  z-index: -1;
  border-radius: 6px;
  filter: blur(6px);
  background: linear-gradient(90deg, rgba(255,145,30,0.12), rgba(255,100,30,0.06));
}
.treatz-sub {
  display: inline-block;
  margin-left: 9px;
  font-size: clamp(1.35rem, 1.75vw, 1.55rem);
  color: #3a0c5d; 
  /* slime-green outline + glow */
  -webkit-text-stroke: 2px var(--slime);
  text-shadow:
    0 0 12px rgba(57,255,20,.60),
    0 0 24px rgba(57,255,20,.35),
    0 6px 18px rgba(0,0,0,.6);
  font-weight: 700;
  opacity: 0.95;
}

/* Nav container */
.nav { position: relative; z-index: 5; }
.nav__wrap{
  max-width: var(--max-width); margin: 8px auto 0; padding: 0 16px;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
}
.nav__brand{ display:flex; align-items:center; gap:10px; }
.nav__brand img{ height:54px; display:block; }
.nav__brand-text{
  font-size: 1.5rem; color: var(--orange);
  text-shadow: 0 0 8px rgba(255,149,0,.4);
  display: none;
}
@media (min-width: 720px){ .nav__brand-text{ display: inline } }

.nav__links{ display:flex; align-items:center; gap:10px; }
.nav__links a{
  color: #eaeaea; text-decoration: none; font-weight: 700; letter-spacing: .2px;
  padding: .5rem .8rem; border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
}
.nav__links a:hover{ color:#fff; background: rgba(255,255,255,.1); text-shadow: none; }
.nav__link--disabled{
  opacity: .50; pointer-events: none; cursor: default; filter: grayscale(.15); position: relative;
}
.nav__link--disabled::after{
  content: "coming soon";
  font-size: .62rem; color: rgba(255,255,255,.65);
  position: absolute; right: -8px; top: 100%; transform: translateY(6px); white-space: nowrap; opacity: .9;
}

/* Tokenbar */
.tokenbar{
  max-width: var(--max-width); margin: 12px auto 16px; padding: 8px 16px;
  display: flex; align-items: center; justify-content: space-between; gap:16px; flex-wrap: wrap;
  background: linear-gradient(180deg, rgba(13,13,13,.85), rgba(13,13,13,.6));
  border: 1.5px solid var(--card-border); border-radius: 16px;
  box-shadow: var(--shadow);
}
.tokenbar__label{ opacity: .85; margin-right: 6px; }
.tokenbar__address code{ font-size: 1.35rem; user-select: all; }
.tokenbar__actions{ position: relative; z-index: 1010; display:flex; gap:10px; flex-wrap:wrap; }
.tokenbar__balance b { font-weight: 900; }

/* =========================================================
   Buttons
   ========================================================= */
.btn{
  cursor:pointer; border:none; padding:.7rem 1rem; border-radius:12px;
  font-weight:800; background:transparent; color:var(--white);
}
.btn--primary{ background: linear-gradient(180deg, var(--orange), var(--orange-hi)); color: #1a0b00; }
.btn--buy{ background: linear-gradient(90deg, var(--slime), #94DAFF); color: #032316; font-weight: 900; }
.btn--outline{ background: transparent; color: var(--white); border: 1px solid var(--white); }
.btn--ghost{ background: transparent; color: var(--white); opacity: .9; }
.btn:disabled{ opacity: .6; cursor: not-allowed; }

.btn--flip{
  position: relative;
  text-transform: uppercase;
  letter-spacing: .3px;
  border: 2px solid rgba(0,0,0,.75);
  box-shadow: 0 10px 28px rgba(255,107,0,.35), 0 0 22px rgba(0,255,163,.18);
  transition: transform .18s ease, box-shadow .18s ease;
}
.btn--flip:hover{ transform: translateY(-2px); box-shadow: 0 14px 36px rgba(255,107,0,.45), 0 0 26px rgba(0,255,163,.22); }

/* Back to top button */
.about-backtop-wrap { display:flex; justify-content: center; padding: 28px 12px 48px; }
.btn-back-to-top {
  background: linear-gradient(90deg,#ffb26a,#ff6b00);
  color: #1a0b00;
  padding: 12px 18px;
  border-radius: 999px;
  border: none;
  font-weight: 750;
  box-shadow: 0 8px 28px rgba(0,0,0,0.25);
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease;
}
.btn-back-to-top:hover { transform: translateY(-4px); box-shadow: 0 12px 36px rgba(0,0,0,0.32); }

/* =========================================================
   Layout, Grid & Cards
   ========================================================= */
.main{ max-width: var(--max-width); margin: 0 auto; padding: 24px 16px 80px; }
.section{ margin: 28px 0; }
.section__title{ letter-spacing: .5px; font-size: 2rem; margin:0 0 12px; text-shadow: 0 2px 18px rgba(0,0,0,.35); }

.grid-2{ display:grid; grid-template-columns: 1fr 1fr; gap:16px; }
.grid-3{ display:grid; grid-template-columns: 2fr 1fr 1.2fr; gap:16px; }

/* =========================================================
   Forms & Inputs
   ========================================================= */
.label{ display:block; margin: .3rem 0 .35rem; font-weight:700; }
input[type="number"], input[type="text"]{
  width:100%; padding:.75rem .9rem; border-radius: 12px;
  border:1px solid var(--card-border); background:#0f0f10; color: var(--white);
}
input[type="number"]{ -moz-appearance: textfield; }
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance: none; margin: 0; }
input[type="number"]:focus-visible,
input[type="text"]:focus-visible{
  box-shadow: 0 0 0 3px rgba(57,255,20,.25), 0 0 0 1px rgba(57,255,20,.8) inset;
}
input::placeholder{ color: #cfcfcf; opacity: .7; }
.help{ opacity: .8; font-size: .9rem; }

/* =========================================================
   Radio Choices
   ========================================================= */
.choices{ display:flex; gap:12px; margin: .25rem 0 1rem; }
.choice{
  display:flex; align-items:center; gap:8px;
  background: rgba(255,255,255,.06); padding:.5rem .75rem; border-radius: 12px; border:1px solid var(--card-border);
}

/* =========================================================
   Coin Flip â€” Visual + Ticker
   ========================================================= */
.cf-display{ display:flex; flex-direction: column; align-items: center; justify-content: center; min-height: 220px; position: relative; }
.cf-display::before{
  content:""; width:250px; height:250px; border-radius:50%;
  background: radial-gradient(circle, rgba(57,255,20,.18), transparent 62%);
  filter: blur(6px); position:absolute; z-index:-1;
}

.cf-banner{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%) scale(.98);
  display:inline-block; max-width:90%; padding:.7rem 1rem;
  font:700 18px/1.1 "Luckiest Guy","Creepster",system-ui,sans-serif;
  text-align:center; color:#0D0D0D; background:#39FF14; border-radius:14px;
  box-shadow:0 12px 28px rgba(0,0,0,.45), inset 0 -2px 0 rgba(0,0,0,.15);
  opacity:0; pointer-events:none; transition:opacity .22s ease, transform .22s ease;
}
.cf-banner.show{ opacity:1; transform:translate(-50%,-50%) scale(1); }
.cf-banner.loss{ background:#111; color:#fff; outline:2px solid rgba(255,255,255,.08); }

/* Coin visuals */
.coin{
  position: relative; width: var(--coin-size); height: var(--coin-size);
  perspective: 900px;
  border-radius: 50%;
  transform-style: preserve-3d;
  transition: transform .6s ease;
  /* softer outer + inner glow */
  box-shadow: 0 0 10px rgba(57,255,20,.18), inset 0 0 8px rgba(255,165,0,.28);
  background: radial-gradient(circle at 50% 40%, #1a0828 0%, #0d0d0d 60%, #000 100%);
}
/* image defaults so coin isn't blank before JS runs */
.coin__face--front { /* TRICK */
  background: center/contain no-repeat url("/static/assets/coin_trickz.png");
}
.coin__face--back {  /* TREAT */
  background: center/contain no-repeat url("/static/assets/coin_treatz.png");
  transform: rotateY(180deg);
}
/* Orientation helpers (front = TRICK, back = TREAT) */
.coin--show-trick { transform: rotateY(0deg) !important; }
.coin--show-treat { transform: rotateY(180deg) !important; }

.coin__face{
  position: absolute; inset: 0; display: grid; place-items:center;
  font-weight: 800; font-family:"Creepster", cursive; letter-spacing: .6px;
  color: var(--pumpkin); text-shadow: 0 0 8px rgba(57,255,20,.35);
  border: 2px solid rgba(255,255,255,.08); backface-visibility: hidden;
}
.coin__face--back{
  transform: rotateY(180deg);
  color: var(--slime); text-shadow: 0 0 10px rgba(57,255,20,.6);
}
.coin.spin{ animation: spin 2.2s cubic-bezier(.2,.6,.2,1) 1; animation-fill-mode: both; }
@keyframes spin{ 0% { transform: rotateY(0); } 100% { transform: rotateY(720deg); } }
.cf-status{ margin-top: 12px; font-weight: 700; }

/* Optional: tint coin when JS toggles states */
.coin--trick { filter: hue-rotate(-25deg) saturate(1.2); }
.coin--treat { filter: hue-rotate(35deg)  saturate(1.3); }


/* SCROLLING TICKER â€” #ticker-rail */
.ticker{
  overflow: hidden; white-space: nowrap;
  border: 1.25px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(13,13,13,.72), rgba(13,13,13,.5));
  border-radius: 12px; margin: 8px auto 0; padding: .5rem .75rem; max-width: var(--max-width);
  font-weight: 700;
}
.ticker__item{
  display: inline-block; padding: 0 28px; margin-right: 18px; line-height: 1.4; font-weight:700; vertical-align: middle;
  border-right: 1px solid rgba(255,255,255,0.06);
}
.ticker__rail{ display:inline-block; padding-left:100%; animation: ticker 110s linear infinite; white-space: nowrap; }
@keyframes ticker{ 0%{ transform: translateX(0); } 100%{ transform: translateX(-100%); } }
.ticker__rail .ticker__item:last-child { border-right: none; margin-right: 0; }
.ticker .tick-win, .ticker .win  { color: var(--slime); font-weight: 800; }
.ticker .tick-loss, .ticker .loss{ color: #ff4545; font-weight: 800; }

/* =========================================================
   Jackpot â€” Stats & Progress
   ========================================================= */
.stats{ display: grid; grid-template-columns: 1fr 1fr 1fr; gap:12px; margin-bottom:10px; }
.stat__label{
  display:block; opacity:.95; font-size:.95rem;
  font-weight:800; letter-spacing:.02em; text-transform:uppercase;
  color:#caffb9; /* minty header */
}
.stat__value{ display:block; font-family:"Creepster"; font-size:1.35rem; color: var(--slime); font-weight:700; }

.progress{
  height:10px; background: rgba(255,255,255,.06); border: 1px solid var(--card-border); border-radius: 10px; overflow: hidden; position: relative;
}
.progress__bar{
  height:100%; background: linear-gradient(90deg, #2aff6b, #9bff2a); box-shadow: 0 0 18px rgba(57,255,20,.45);
}
.progress__bar::after{
  content:""; position: relative; right:-6px; top:-6px; width:22px; height:22px;
  background: radial-gradient(circle, rgba(57,255,20,.9), rgba(57,255,20,.2) 60%, transparent 70%);
  border-radius:50%; filter: blur(3px);
}

/* Ticket price + wallet credit emphasis */
#raffle-card .ticket-price,
#raffle-card .wallet-credit,
#player-stats{
  margin-top:6px; padding:10px 12px; border-radius:10px;
  background: rgba(202,255,185,.06);
  box-shadow: inset 0 0 12px rgba(142,255,196,.08);
  font-size:1.1rem;
}
#raffle-card .ticket-price .value,
#raffle-card .wallet-credit .value,
#player-stats .value{
  text-shadow:0 0 10px rgba(142,255,196,.25);
  font-weight:800;
}

/* Commit / Reveal text wrapping */
#seed-commit, #seed-reveal, .seed-line{
  word-break: break-all;
  line-height: 1.35;
}

/* Jackpot card layout: make "Recent Rounds" span full width on the next row */
#jackpot-card{
  display: grid;              /* ensure it's a grid even if a utility changed */
  grid-template-columns: 2fr 1fr 1.2fr;
  gap: 16px;
  align-items: start;
}

/* The third child (.jp__recent) jumps to the next row and spans all columns */
#jackpot-card .jp__recent{
  grid-column: 1 / -1;        /* full width */
}

/* Mobile/tablet: stack normally */
@media (max-width: 900px){
  #jackpot-card{ grid-template-columns: 1fr; }
  #jackpot-card .jp__recent{ grid-column: 1; }
}


/* =========================================================
   Mini Table (Recent Rounds) & Lists
   ========================================================= */
.mini-table__head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; }
.mini-table__list{ list-style: none; margin: 0; padding: 0; max-height: 300px; overflow:auto; -webkit-overflow-scrolling:touch; }
.mini-table__list{ scrollbar-color: rgba(255,255,255,.25) transparent; }
.mini-table__list::-webkit-scrollbar{ width:10px; }
.mini-table__list::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.2); border-radius:10px; border:2px solid transparent; background-clip:padding-box; }
.mini-table__list li{ display:flex; align-items:center; justify-content:space-between; padding:12px 8px; border-bottom:1px dashed rgba(255,255,255,.12); }
.mini-round__pill{ padding:.25rem .5rem; border:1px solid var(--card-border); border-radius: 999px; font-size:.85rem; opacity:.9; }

.recent-list { list-style:none; padding:0; margin:0; }
.recent-list li { display:flex; justify-content:space-between; padding:.5rem .75rem; border-bottom:1px solid rgba(255,255,255,.08); }
.recent-list li:last-child { border-bottom:none; }
.muted { opacity:.75; }
.small { font-size:.875rem; }
.toast { transition: opacity .25s ease; }

/* About readability */
#about .card p{ font-size:1.05rem; line-height:1.8; }

.jp-heartbeat{display:flex;align-items:center;gap:10px;margin-top:.5rem;font:600 14px/1.2 Rubik,system-ui,sans-serif;color:#fff8;}
.jp-heartbeat .dot{width:8px;height:8px;border-radius:50%;background:#c33;box-shadow:0 0 0 0 rgba(204,68,68,.6);animation: jp-ping 1.4s infinite;}
.jp-heartbeat.is-up{color:#b6ffbf;}
.jp-heartbeat.is-up .dot{background:#2fe66b;box-shadow:0 0 0 0 rgba(47,230,107,.6);}
@keyframes jp-ping{0%{box-shadow:0 0 0 0 rgba(47,230,107,.6)}70%{box-shadow:0 0 0 8px rgba(47,230,107,0)}100%{box-shadow:0 0 0 0 rgba(47,230,107,0)}}

/* =========================================================
   $TREATZ FX Layer (falling wrappers / ghosts / candy)
   ========================================================= */
#fx-layer, .fx-layer{ position:fixed; inset:0; pointer-events:none; z-index:100000; overflow:visible; contain: layout paint style; }
/* base FX piece */
.fx-piece{
  position: fixed; will-change: transform, opacity, left, top;
  filter: drop-shadow(0 6px 18px rgba(0,0,0,.55)); opacity: 1;
  transform-origin: 50% 50%; transition: transform 260ms ease, opacity 260ms ease;
  --scale: 1;
  transform: translate3d(-50%,-50%,0) scale(var(--scale));
}
.fx-layer{
  position: fixed !important;
  top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important;
  width: 100vw !important; height: 100vh !important;
  pointer-events: none !important; overflow: visible !important;
  z-index: 99999 !important; transform: none !important; contain: none !important; isolation: isolate;
  will-change: auto;
}

/* Containers created/used by app.js for specific FX */
.fx-rain{ position: fixed; inset: 0; pointer-events:none; overflow:hidden; z-index: 35; }
.fx-haunt{ position: fixed; inset: 0; pointer-events:none; z-index: 36; }


.fx-piece svg{
  display:block; width:auto; height:auto; max-width:120px; max-height:120px;
  pointer-events:none; transform-origin:center center;
  opacity:1 !important;
}
.fx-piece svg *,
.fx-piece svg stop {
  fill-opacity:1 !important;
  stroke-opacity:1 !important;
  opacity:1 !important;
  stop-opacity:1 !important;
}


/* keyframes */
@keyframes treatz-fall {
  0%   { transform: translate3d(-50%,-50%,0) translateY(-8vh) rotate(0deg) scale(var(--scale)); opacity: 1; }
  85%  { transform: translate3d(-50%,-50%,0) translateY(90vh) rotate(480deg) scale(calc(var(--scale) * 0.97)); opacity: 1; }
  100% { transform: translate3d(-50%,-50%,0) translateY(110vh) rotate(540deg) scale(calc(var(--scale) * 1.0)); opacity: 0; }
}
/* Alias so JS that uses 'fall' still works */
@keyframes fall {
  0%   { transform: translate3d(-50%,-50%,0) translateY(-8vh) rotate(0deg) scale(var(--scale)); opacity: 1; }
  85%  { transform: translate3d(-50%,-50%,0) translateY(90vh) rotate(480deg) scale(calc(var(--scale) * 0.97)); opacity: 1; }
  100% { transform: translate3d(-50%,-50%,0) translateY(110vh) rotate(540deg) scale(calc(var(--scale) * 1.0)); opacity: 0; }
}
@keyframes treatz-sway {
  0%   { transform: translate3d(-50%,-50%,0) translateX(0); }
  50%  { transform: translate3d(-50%,-50%,0) translateX(12px); }
  100% { transform: translate3d(-50%,-50%,0) translateX(0); }
}
@keyframes treatz-pop {
  0%   { transform: translate3d(-50%,-50%,0) scale(0.6); opacity: 0; }
  40%  { transform: translate3d(-50%,-50%,0) scale(1.05); opacity: 1; }
  100% { transform: translate3d(-50%,-50%,0) translateY(-80px) scale(1.15); opacity: 0; }
}

/* win pieces (candy) */
.candy-wrapper, .fx-piece--win {
  position: absolute; pointer-events: none; will-change: transform, left, top, opacity;
  --dur: 4.2s;
  animation: treatz-fall var(--dur) linear forwards, treatz-sway 2.8s ease-in-out infinite;
  mix-blend-mode: normal; color: var(--fx-color, #FF6B00); filter: drop-shadow(0 10px 22px rgba(0,0,0,.45)); opacity: 1;
}
.fx-piece--win svg [class^="w"], .fx-piece--win svg path, .fx-piece--win svg rect, .fx-piece--win svg circle {
  fill: currentColor !important; stroke: none !important; opacity: 1 !important;
}
.candy-wrapper { width:48px; height:48px; background-position:center; background-repeat:no-repeat; background-size:contain; transform-origin:center; }
/* generic wrapper piece used by JS */
.fx-wrapper {
  width:48px; height:48px;
  background-position:center;
  background-repeat:no-repeat;
  background-size:contain;
  transform-origin:center;
}

.fx-piece--win { --scale: 1; transform: translate3d(-50%,-50%,0) scale(var(--scale)); }
.fx-piece--win::after {
  content:''; position:absolute; inset:-8px;
  border-radius:12px;
  background: radial-gradient(circle, rgba(255,107,0,0.25) 0%, rgba(0,0,0,0) 70%);
  filter: blur(12px);
  z-index:-1;
}

/* loss visuals (skull/ghost) â€” make them RAIN like wins */
.fx-piece--loss,
.fx-piece--lose {
  mix-blend-mode: normal;
  filter: drop-shadow(0 14px 36px rgba(0,0,0,.72)) saturate(0.95) contrast(1.05);
  --dur: 5.4s;
  animation: treatz-fall var(--dur) linear forwards, treatz-sway 3.4s ease-in-out infinite;
  --scale: 1.0;
}

.fx-piece--loss svg [class^="c"], .fx-piece--loss svg path, .fx-piece--loss svg circle {
  fill: #ffffff !important;
  stroke: #000000 !important;
  filter: brightness(1.15) contrast(1.1);
}
.fx-piece--ghost { --scale: 1.05; filter: drop-shadow(0 12px 28px rgba(0,0,0,.55)); animation: treatz-pop 1.8s ease forwards; }
.fx-piece--small  { --scale: 0.75; transform: translate3d(-50%,-50%,0) scale(var(--scale)); }
.fx-piece--large  { --scale: 1.45; transform: translate3d(-50%,-50%,0) scale(var(--scale)); }
.fx-piece--xlarge { --scale: 2.0; transform: translate3d(-50%,-50%,0) scale(var(--scale)); }
.fx-piece.faded { opacity: 0; transform: translate3d(-50%,-50%,0) scale(0.9); transition: opacity 420ms ease; }
.fx-piece--ghost::after {
  content:''; position:absolute; inset:-6px;
  border-radius:50%;
  background: radial-gradient(circle, rgba(147,222,255,0.25) 0%, rgba(0,0,0,0) 70%);
  filter: blur(10px);
  z-index:-1;
}

/* ===== Wheel of Fate ===== */
.wheel-card .wheel-wrap {
  position: relative; display:grid; place-items:center; min-height: 360px;
}

/* The SVG itself */
.wheel {
  width: 520px; height: 520px;           /* larger for readable labels */
  filter: drop-shadow(0 18px 34px rgba(0,0,0,.55));
  transform: rotate(0deg);
  transition: transform 4.8s cubic-bezier(.08,.8,.08,1);
  will-change: transform;
}

/* when spinning, use a longer easing then ease out near the end */
.wheel.spinning {
  transition: transform 4.8s cubic-bezier(.1,.9,.05,1.02);
}

/* pointer as a metal arrow with glow & a little tap animation on finish */
.wheel-pointer {
  position:absolute; top:-6px; left:50%; transform: translateX(-50%);
  width: 0; height: 0; border-left: 16px solid transparent; border-right: 16px solid transparent;
  border-top: 28px solid var(--pumpkin);
  filter: drop-shadow(0 6px 14px rgba(255,107,0,.45));
}
.wheel-pointer::after {
  content:""; position:absolute; left:-12px; top:-6px; right:-12px; bottom:-22px;
  border-radius: 8px; border:2px solid rgba(255,255,255,.25);
  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(0,0,0,.2));
  filter: blur(.5px);
}
.pointer-tap { animation: pointer-tap .25s ease-out 1; }
@keyframes pointer-tap {
  0% { transform: translateX(-50%) rotate(0deg); }
  55% { transform: translateX(-50%) rotate(-12deg); }
  100% { transform: translateX(-50%) rotate(0deg); }
}

/* slice labels: heavier + stroke for contrast */
.slice-label{
  font-family:"Rubik",system-ui,sans-serif;
  font-weight:900; font-size:14px; text-anchor:middle;
  fill:#fff; paint-order: stroke fill;
  stroke: rgba(0,0,0,.55); stroke-width: 3px;
}

/* rich slice fills via gradients (applied from JS) */
.slice-win  { stroke: rgba(255,255,255,.14); stroke-width:1; }
.slice-loss { stroke: rgba(255,255,255,.14); stroke-width:1; }
.slice-free { stroke: rgba(255,255,255,.14); stroke-width:1; }

/* thick rim and inner hub (drawn in JS, styled here) */
.wheel-rim    { fill:none; stroke:#1b1b1b; stroke-width:20; filter: drop-shadow(0 10px 24px rgba(0,0,0,.55)); }
.wheel-rim-outer { fill:none; stroke:rgba(0,0,0,.55); stroke-width:34; opacity:.65; }
.wheel-center { fill:#101010; stroke:#2a2a2a; stroke-width:6; filter: drop-shadow(0 6px 16px rgba(0,0,0,.6)); }
.wheel-cap    { fill:#0b0b0b; stroke:#3a3a3a; stroke-width:2; }
.wheel-bolt   { fill:#2b2b2b; stroke:#000; stroke-width:1; filter: drop-shadow(0 2px 3px rgba(0,0,0,.6)); }
.wheel-spoke  { stroke: rgba(0,0,0,.6); stroke-width:2; }

/* status line under wheel */
#wheel-status { margin-top:.6rem; font-weight:700; text-shadow:0 2px 12px rgba(0,0,0,.5); }
.glow-green { filter: drop-shadow(0 0 16px rgba(57,255,20,.65)); }
.glow-red   { filter: drop-shadow(0 0 16px rgba(255,80,80,.65)); }

/* Wheel left column spacing/readability */
#wheel-panel{ display:grid; gap:12px; }
#wheel-panel .cta-row{ display:flex; gap:12px; align-items:center; }
#wheel-panel .meta-line{ margin-top:6px; line-height:1.35; opacity:.9; }
.wheel-wrapper{ display:grid; grid-template-columns: 1fr auto; gap:24px; align-items:center; }


/* =========================================================
   Mascot floater
   ========================================================= */
#mascot-floater{
  position: fixed; left: 35px; top: 35px; width: 140px;
  cursor: pointer; opacity: .95; z-index: 1000;
  transform: translate(0,0);
  transition: transform .9s ease, left .9s ease, top .9s ease, opacity .6s ease;
  will-change: transform, opacity, left, top;
}
@keyframes mascot-bob {
  0%   { transform: translateY(0) rotate(0deg); }
  50%  { transform: translateY(-7px) rotate(-1deg); }
  100% { transform: translateY(0) rotate(0deg); }
}
@keyframes mascot-sway {
  0%   { transform: translateY(0) rotate(-0.5deg); }
  50%  { transform: translateY(-8px) rotate(0.6deg); }
  100% { transform: translateY(0) rotate(-0.5deg); }
}
.mascot--floated {
  animation: mascot-sway 3.8s ease-in-out infinite;
  transform-origin: center; pointer-events: auto;
  filter: drop-shadow(0 8px 18px rgba(0,0,0,0.35));
}
#mascot-floater:hover, .mascot:hover {
  transform: translateY(-4px) scale(1.03);
  transition: transform 230ms ease;
}

/* =========================================================
   TRICK Flash (screen flicker)
   ========================================================= */
@keyframes screen-flash {
  0%   { filter: brightness(1) contrast(1); }
  20%  { filter: brightness(1.35) contrast(1.2) saturate(1.05); }
  40%  { filter: brightness(0.92) contrast(1.05); }
  60%  { filter: brightness(1.18) contrast(1.1); }
  80%  { filter: brightness(0.98); }
  100% { filter: brightness(1) contrast(1); }
}
body.flash { animation: screen-flash 0.9s ease both; }

/* =========================================================
   Animations: Respect reduced motion
   ========================================================= */
@media (prefers-reduced-motion: reduce){
  .ticker__rail{ animation: none !important; transform: translateX(0) !important; }
  .coin.spin{ animation: none !important; }
  body.flash { animation: none !important; }

  /* Keep FX, just slow them down (donâ€™t nuke them) */
  .fx-piece,
  .fx-piece--win,
  .fx-piece--loss,
  .fx-piece--ghost,
  .candy-wrapper {
    animation-duration: calc(var(--dur, 6s) * 1.6) !important;
  }
}

/* =========================================================
   Footer
   ========================================================= */
.footer{ opacity: .8; text-align: center; margin-top: 28px; }

/* =========================================================
   Misc helpers & small overrides
   ========================================================= */
.toast { transition: opacity .25s ease; }

/* --- $TREATZ small polish patch --- */

/* Prevent TRICK/TREAT text flash before app.js swaps in images */
.coin__face { text-indent: -9999px; }

/* Buttons the app disables via class or aria attribute */
.btn.is-disabled, .btn[aria-disabled="true"], .btn:disabled{ opacity:.6; cursor:not-allowed; pointer-events:none; }

/* Make deep-link/aux buttons look disabled when hidden via [hidden] */
[hidden] { display: none !important; }

/* Slightly stronger modal stacking in case other elements get higher z-index later */
.wm { z-index: 100200; }

/* Wheel of Fate: crisper motion & block accidental text selection while spinning */
.wheel { will-change: transform; user-select: none; }
.wheel.spinning{ pointer-events:none; }
.wheel.spinning ~ .btnrow .btn{ pointer-events:none; user-select:none; }

/* =========================================================
   MEDIA QUERIES (TABLETS & PHONES) â€” grouped at bottom
     â€¢ tablet breakpoint: max-width: 900px
     â€¢ phone breakpoint: max-width: 600px
     â€¢ small phone: max-width: 420px
   ========================================================= */

/* â€”â€”â€”â€”â€”â€”â€”â€“â€“
   Tablet (<= 900px)
   â€”â€”â€”â€”â€”â€”â€”â€“ */
@media (max-width: 900px) {
  .bg{ background-attachment: scroll; }
   .grid-2, .grid-3 { grid-template-columns: 1fr; }
  .countdown__logo { height: 72px; }
  .nav__wrap { padding: 0 12px; }
  .ticker { padding: .5rem .6rem; }
  .tokenbar { padding: 8px 12px; border-radius: 14px; }
  .treatz-title { font-size: clamp(1.6rem, 3.4vw, 2.4rem); line-height: 1.4; gap: 6px; }
  /* scale down coin and ticker spacing */
  .coin { width: 170px; height: 170px; }
  .cf-display::before{ width: 200px; height:200px; }
  .countdown__inner { padding: .5rem .9rem; gap: .6rem; min-height: 64px; }
  .about-backtop-wrap { padding: 20px 8px 40px; }
  .stats { grid-template-columns: 1fr 1fr; }
  .progress__bar::after { width: 18px; height: 18px; top: -4px; }
  .fx-layer { z-index: 9999; } /* reduce for tablet to avoid overlaying some sticky controls */
}

/* â€”â€”â€”â€”â€”â€”â€”â€“â€“
   Phone (<= 600px)
   â€”â€”â€”â€”â€”â€”â€”â€“ */
@media (max-width: 600px) {
  body { font-size: 15px; }
  .countdown__timer { font-size: clamp(18px, 10vw, 36px); }
  .countdown__omen { font-size: 13px; margin-left: .45rem; }
  .countdown__inner { min-height: 64px; gap: .5rem; padding: .6rem .8rem; }
  .countdown__timer .cd-part { margin-right: 6px; }
  .countdown__timer .cd-num { font-size: .9em; padding: .12rem .35rem; }
  .countdown__timer .cd-unit { font-size: .62em; }

  .nav__links { gap: 6px; }
  .nav__links a { padding: .45rem .6rem; font-size: .95rem; }
  .nav__brand img { height: 36px; }
  .treatz-sub { display: none; } /* save space on phones */
  .tokenbar { flex-direction: column; align-items: flex-start; gap: 8px; padding: 8px 12px; }
  .tokenbar__actions { align-self: stretch; display:flex;  z-index:100100; justify-content: flex-end; width:100%; }
  .coin { width: 150px; height: 150px; }
  .cf-display { min-height: 200px; }

  #mascot-floater { left: 10px; top: auto; bottom: 10px; width: 110px; }
  .fx-piece, .candy-wrapper { max-width: 64px; max-height: 64px; }
  .main { padding: 18px 12px 64px; }
  .section__title { font-size: 1.35rem; }
  #about .card p { font-size: 1.12rem; line-height: 1.85; }
}

/* â€”â€”â€”â€”â€”â€”â€”â€“â€“
   Small Phone (<= 420px)
   â€”â€”â€”â€”â€”â€”â€”â€“ */
@media (max-width: 420px) {
  .coin { width: 120px; height: 120px; }
  .countdown__logo { height: 56px; }
  .countdown__label { font-size: clamp(18px, 2.2vw, 22px); }
  .nav__links a { padding: .4rem .5rem; font-size: .9rem; }
  .treatz-title { font-size: 1.5rem; }
  .progress { height: 8px; }
  .ticker__item { padding: 0 14px; margin-right: 8px; }
  .fx-piece, .fx-piece svg { max-width: 88px; max-height: 88px; }
}

/* =========================================================
   End of file
   ========================================================= */
